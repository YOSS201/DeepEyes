<mat-sidenav-container class="sidenav-container no-scroll">
  <!-- SIDENAV -->
  <mat-sidenav mode="side" opened class="sidenav">
   
    <h3>Alertas</h3>

    <button mat-stroked-button color="primary" [routerLink]="['/c/alert']">Ver Todo</button>

    <mat-nav-list>
      <mat-list-item *ngFor="let alert of alerts">
        <a [routerLink]="['/s/alertdetails/', alert.id]">
          {{ alert.status | uppercase }} - [{{ alert.device.location }}]
        </a>
      </mat-list-item>
    </mat-nav-list>
  </mat-sidenav>

  <!-- CONTENIDO PRINCIPAL -->
  <mat-sidenav-content>
    <div class="content">
      <mat-toolbar color="primary">
        <span>üìπ Videowall</span>
      </mat-toolbar>

      <div class="container-fixed">
        <h1>üì∑ C√°maras</h1>

        <div class="cameras-grid-fixed">
          <div *ngFor="let camera of cameras" class="camera-card-fixed">
            <h3>{{ camera.name }}</h3>

            <div class="video-container-fixed">
              <div *ngIf="camera.loading" class="loading-overlay">
                <div class="spinner"></div>
                <p>Conectando...</p>
              </div>

              <div *ngIf="camera.error && !camera.loading" class="error-overlay">
                <div class="error-icon">!</div>
                <p>{{ camera.error }}</p>
              </div>

              <img *ngIf="camera.imageSrc && !camera.loading && !camera.error"
                   [src]="camera.imageSrc"
                   alt="{{ camera.name }}"
                   class="video-feed">
            </div>
          </div>
        </div>
      </div>

      <!-- Botones de control -->
      <div class="actions-fixed">
        <button mat-raised-button color="warn" (click)="startRecording()" [disabled]="isRecording">‚è∫ Grabar</button>
        <button mat-raised-button color="primary" (click)="stopRecording()" [disabled]="!isRecording">‚èπ Detener</button>
        <button mat-stroked-button color="accent" (click)="generateAlert()">‚ö†Ô∏è Alerta</button>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
